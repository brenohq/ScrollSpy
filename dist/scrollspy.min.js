!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).ScrollSpy={})}(this,(function(e){"use strict";let t,n,o=[];function i(e){let t=!0;return()=>{t&&(e(),t=!1,setTimeout(()=>t=!0,150))}}function s(e){const t=c();return e.el.getBoundingClientRect()[e.reference]+t-e.offset}function c(){if("undefined"!=typeof pageYOffset)return pageYOffset;{let e=document.documentElement;return e=e.clientHeight?e:document.body,e.scrollTop}}function r(){}function d(){!function(){const e=document.body.offsetHeight;n!==e&&(n=e,function(){t=window.innerHeight;for(const e of o)e.pos=s(e);f()}())}(),f()}function f(){const e=c(),n=t+e;for(const e of o){if(!(n>=e.pos))break;e.callback&&e.callback(),o.shift()}o.length||(window.removeEventListener("scroll",i(d)),window.removeEventListener("resize",i(r)))}e.add=function(e){if(!e.el)throw new Error("[@globocom/scrollspy] item.el is required");const c=Object.assign({offset:200,reference:"top",pos:0},e);c.pos=s(c);const u=o.findIndex(e=>e.pos>c.pos);o.splice(-1===u?o.length:u,0,c),1===o.length&&(t=window.innerHeight,n=document.body?document.body.offsetHeight:0,window.addEventListener("scroll",i(d)),window.addEventListener("resize",i(r))),f()},e.clean=function(){o=[]},e.debug=function(){return o.forEach((e,t)=>{const n="2px dashed "+(t%2?"red":"blue"),o=document.createElement("div"),i=[`top: ${e.pos};`,"width: 100%;","position: absolute;",`border-top: ${n};`].join("");e.el.style.border=n,o.className="debug-line",o.setAttribute("style",i),document.body.appendChild(o)}),o},e.getItems=function(){return o.map(e=>e)},Object.defineProperty(e,"__esModule",{value:!0})}));