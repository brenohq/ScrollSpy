!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).ScrollSpy={})}(this,(function(e){"use strict";var n,t,o=[];function r(e){var n=!0;return function(){n&&(e(),n=!1,setTimeout((function(){return n=!0}),150))}}function i(e){var n=f();return e.el.getBoundingClientRect()[e.reference]+n-e.offset}function f(){if("undefined"!=typeof pageYOffset)return pageYOffset;var e=document.documentElement;return(e=e.clientHeight?e:document.body).scrollTop}function d(){}function u(){var e;e=document.body.offsetHeight,t!==e&&(t=e,function(){n=window.innerHeight;for(var e=0,t=o;e<t.length;e++){var r=t[e];r.pos=i(r)}c()}()),c()}function c(){for(var e=f(),t=n+e,i=0,c=o;i<c.length;i++){var s=c[i];if(!(t>=s.pos))break;s.callback&&s.callback(),o.shift()}o.length||(window.removeEventListener("scroll",r(u)),window.removeEventListener("resize",r(d)))}e.add=function(e){if(!e.el)throw new Error("[@rafalages/scrollspy] item.el is required");var f=Object.assign({offset:200,reference:"top",pos:0},e);f.pos=i(f);var s=o.findIndex((function(e){return e.pos>f.pos}));o.splice(-1===s?o.length:s,0,f),1===o.length&&(n=window.innerHeight,t=document.body?document.body.offsetHeight:0,window.addEventListener("scroll",r(u)),window.addEventListener("resize",r(d))),c()},e.clean=function(){o=[]},e.debug=function(){return o.forEach((function(e,n){var t="2px dashed "+(n%2?"red":"blue"),o=document.createElement("div"),r=["top: "+e.pos+";","width: 100%;","position: absolute;","border-top: "+t+";"].join("");e.el.style.border=t,o.className="debug-line",o.setAttribute("style",r),document.body.appendChild(o)})),o},e.getItems=function(){return o.map((function(e){return e}))},Object.defineProperty(e,"__esModule",{value:!0})}));